(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,a,t){e.exports=t(33)},26:function(e,a,t){},27:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},28:function(e,a,t){},33:function(e,a,t){"use strict";t.r(a);var o=t(0),r=t.n(o),n=t(12),s=t.n(n),i=(t(26),t(27),t(28),t(2)),l=t(3),u=t(4),p=t(6),c=t(5),d=t(7),m=t(10),h=(t(9),"UPDATE_CODE_FIELD"),b="CHANGE_CODE_BUTTON",f="CHANGE_INPUT_VALUE",v="CHANGE_COMPOSE_MOVE",g="LOAD_GAME_FIELD",y="MAKE_STEP",O="RESET_BOARD",S="STEP_BACK",C="LOAD_ALGO",j="PLAY",E="PAUSE";var w="",B="m",N="h",A="r",R="s",k="A",V="B",z="C",T="D",D="\u0420\u043e\u0431\u043e\u0442 \u0432\u044b\u0448\u0435\u043b \u0437\u0430 \u0433\u0440\u0430\u043d\u0438\u0446\u044b \u043a\u0430\u0440\u0442\u044b",I="\u0420\u043e\u0431\u043e\u0442\u044b \u0441\u0442\u043e\u043b\u043a\u043d\u0443\u043b\u0438\u0441\u044c",M="\u0420\u043e\u0431\u043e\u0442 \u0443\u043f\u0430\u043b \u0432 \u0440\u0430\u0441\u0449\u0435\u043b\u0438\u043d\u0443",J="\u0420\u043e\u0431\u043e\u0442 \u0441\u0442\u043e\u043b\u043a\u043d\u0443\u043b\u0441\u044f \u0441 \u0433\u043e\u0440\u043e\u0439",L="\u041d\u0435\u0442 \u0440\u043e\u0431\u043e\u0442\u0430 \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u044b",P="\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0442\u0430\u043a\u043e\u0439 \u0441\u0432\u044f\u0437\u043a\u043e\u0439 \u0440\u043e\u0431\u043e\u0442\u043e\u0432",_="\u041f\u043e\u043f\u044b\u0442\u043a\u0430 \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438/\u0440\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0432\u043d\u0435 \u0441\u043a\u043b\u0430\u0434\u0430/\u0440\u0430\u043a\u0435\u0442\u044b",x="\u0420\u043e\u0431\u043e\u0442 \u043f\u0435\u0440\u0435\u0433\u0440\u0443\u0436\u0435\u043d \u0438 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0432\u0437\u044f\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0433\u0440\u0443\u0437",U="\u0420\u043e\u0431\u043e\u0442 \u043f\u0443\u0441\u0442 \u0438 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u044c \u0433\u0440\u0443\u0437",Y="\u0421\u043a\u043b\u0430\u0434 \u0438\u043b\u0438 \u0440\u0430\u043a\u0435\u0442\u0430 \u043f\u0443\u0441\u0442\u044b\u0435 - \u043d\u0435\u043b\u044c\u0437\u044f \u0432\u0437\u044f\u0442\u044c \u0433\u0440\u0443\u0437",F="\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c/\u0440\u0430\u0437\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u043e\u0431\u043e\u0442\u043e\u0432 - \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 \u0440\u0430\u0437\u0433\u0440\u0443\u0437\u043a\u0430",G="\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c/\u0440\u0430\u0437\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u043e\u0431\u043e\u0442\u043e\u0432 - \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u0437 \u0440\u043e\u0431\u043e\u0442\u043e\u0432",W="\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c/\u0440\u0430\u0437\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u043e\u0431\u043e\u0442\u043e\u0432 - \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0440\u043e\u0431\u043e\u0442\u0430 \u0441\u043f\u0440\u0430\u0432\u0430 \u043e\u0442 ",X="\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0440\u0430\u0437\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u043e\u0431\u043e\u0442\u043e\u0432 - \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u0430\u044f \u043a\u043b\u0435\u0442\u043a\u0430 \u0441\u043f\u0440\u0430\u0432\u0430",H=["UP","DOWN","LEFT","RIGHT","COMPOSED","LOAD","UNLOAD","SPLIT","CONNECT","CLEAR"];var q=function(e){function a(){var e;return Object(l.a)(this,a),(e=Object(p.a)(this,Object(c.a)(a).call(this))).handleClick=e.handleClick.bind(Object(m.a)(e)),e}return Object(d.a)(a,e),Object(u.a)(a,[{key:"handleClick",value:function(){this.props.updateCodeField(this.props.x,this.props.y)}},{key:"render",value:function(){if("CODE"===this.props.boardType)return 0!==this.props.y?0!==this.props.x?r.a.createElement("div",{className:"divTableCell"},r.a.createElement("button",{className:"square",onClick:this.handleClick,style:{fontWeight:"bolder",fontSize:"200%"}},this.props.value)):r.a.createElement("div",{className:"divTableCell",style:{fontWeight:"bolder",fontSize:"200%"}},this.props.y):0===this.props.x?r.a.createElement("div",{className:"divTableCell",style:{fontWeight:"bolder",fontSize:"200%"}},this.props.value):this.props.bot.exist>=0?r.a.createElement("div",{className:"divTableCell"},this.props.value+" (\u0422"+this.props.bot.fuel+" \u041f"+this.props.bot.food+")"):r.a.createElement("div",{className:"divTableCell",style:{backgroundColor:"grey"}},this.props.value+" (\u0422"+this.props.bot.fuel+" \u041f"+this.props.bot.food+")");var e="",a=this.props.value;return this.props.bot.isBot&&(e="robo",a=this.props.bot.name),this.props.value[0]===A&&(e="rocket",a="T"+(this.props.value[3]-this.props.value[1])+" \u041f"+(this.props.value[4]-this.props.value[2])),this.props.value[0]===R&&(e="storage",a="T"+this.props.value[1]+" \u041f"+this.props.value[2]),this.props.value[0]===N&&(e="hole",a=""),this.props.value[0]===B&&(e="mountain",a=""),r.a.createElement("div",{className:"divTableCell",id:e},r.a.createElement("div",null,a))}}]),a}(o.Component),K=Object(i.b)(null,function(e){return{updateCodeField:function(a,t){return e({type:h,payload:{X:a,Y:t}})}}})(q),$=function(e){function a(){return Object(l.a)(this,a),Object(p.a)(this,Object(c.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(u.a)(a,[{key:"renderSquare",value:function(e,a,t,o,n){var s={0:"A1",1:"B1",2:"C1",3:"D1",4:"A2",5:"B2",6:"A3",7:"A4"};if("GAME"===o)for(var i=0;i<8;i++)if(n[i][0]===t&&n[i][1]===a)return r.a.createElement(K,{value:e,x:a,y:t,boardType:o,bot:{isBot:!0,name:s[i]}});return"CODE"===o&&void 0!==n?r.a.createElement(K,{value:e,x:a,y:t,boardType:o,bot:{isBot:!1,fuel:n[a][2],food:n[a][3],exist:n[a][0]}}):r.a.createElement(K,{value:e,x:a,y:t,boardType:o,bot:{isBot:!1,name:""}})}},{key:"render",value:function(){var e=this;return 0===this.props.y&&"CODE"===this.props.boardType?r.a.createElement("div",{className:"divTableHeading"},this.props.row.map(function(a,t){return e.renderSquare(a,t,e.props.y,e.props.boardType,e.props.bots)})):this.props.y===this.props.selectedRow&&"CODE"===this.props.boardType?r.a.createElement("div",{className:"divTableSelectedRow"},this.props.row.map(function(a,t){return e.renderSquare(a,t,e.props.y,e.props.boardType)})):r.a.createElement("div",{className:"divTableRow"},this.props.row.map(function(a,t){return e.renderSquare(a,t,e.props.y,e.props.boardType,e.props.bots)}))}}]),a}(o.Component),Q=Object(i.b)(function(e){return{rows:e.codeBoardRows,selectedRow:e.currentCodeRow,bots:{0:0,1:e.A1,2:e.B1,3:e.C1,4:e.D1,5:e.A2,6:e.B2,7:e.A3,8:e.A4}}})(function(e){var a=e.rows,t=e.selectedRow,o=e.bots;return r.a.createElement("div",{style:{overflow:"auto",height:"1000px",width:"100%"}},r.a.createElement("div",{className:"divTable"},a.map(function(e,a){return r.a.createElement($,{row:e,y:a,boardType:"CODE",selectedRow:t,bots:o})})))});var Z=function(e){function a(){var e;return Object(l.a)(this,a),(e=Object(p.a)(this,Object(c.a)(a).call(this))).handleClick=e.handleClick.bind(Object(m.a)(e)),e}return Object(d.a)(a,e),Object(u.a)(a,[{key:"handleClick",value:function(){this.props.id?this.props.changeComposeMove(this.props.butCom,this.props.id):this.props.changeCodeButton(this.props.butCom)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{className:"square",onClick:this.handleClick,disabled:this.props.disabled,style:{fontWeight:"bolder",fontSize:"70%"}},function(e){switch(e){case"UP":return"\u2191";case"DOWN":return"\u2193";case"RIGHT":return"\u2192";case"LEFT":return"\u2190";case"COMPOSED":return"\u2735";case"SPLIT":return"\u0420\u0430\u0441\u0441\u0442\u044b\u043a";case"CONNECT":return"\u0421\u0442\u044b\u043a";case"LOAD":return"+";case"UNLOAD":return"-";case"CLEAR":return"\u0423\u0434\u0430\u043b\u0438\u0442\u044c";case"\u2191":return"\u2191";case"\u2193":return"\u2193";case"\u2192":return"\u2192";case"\u2190":return"\u2190";case"\u2196":return"\u2196";case"\u2197":return"\u2197";case"\u2198":return"\u2198";case"\u2199":return"\u2199";case"":return""}}(this.props.butCom)))}}]),a}(o.Component),ee=Object(i.b)(null,function(e){return{changeCodeButton:function(a){return e({type:b,payload:{buttonCommand:a}})},changeComposeMove:function(a,t){return e(function(e,a){return{type:v,payload:{butCom:e,id:a}}}(a,t))}}})(Z);var ae=function(e){function a(){var e;return Object(l.a)(this,a),(e=Object(p.a)(this,Object(c.a)(a).call(this))).onSomeChange=e.handleClick.bind(Object(m.a)(e)),e}return Object(d.a)(a,e),Object(u.a)(a,[{key:"handleClick",value:function(){this.props.changeInputValue(document.getElementById(this.props.id).value,this.props.id)}},{key:"render",value:function(){return r.a.createElement("div",{className:"flex-container",style:{fontWeight:"bolder",fontSize:"100%",width:"100%"}},r.a.createElement("div",null,this.props.name),r.a.createElement("input",{type:"number",id:this.props.id,name:this.props.name,min:this.props.min,max:"8",defaultValue:this.props.min,onChange:this.onSomeChange}))}}]),a}(o.Component),te=Object(i.b)(null,function(e){return{changeInputValue:function(a,t){return e(function(e,a){return{type:f,payload:{sizeValue:e,id:a}}}(a,t))}}})(ae),oe=["\u2191","\u2193","\u2192","\u2190","\u2196","\u2197","\u2198","\u2199",""],re=function(e){function a(){var e;return Object(l.a)(this,a),(e=Object(p.a)(this,Object(c.a)(a).call(this))).buttonsCommands=H,e}return Object(d.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"flex-container"},this.buttonsCommands.map(function(a,t){if(t<4)return e.props.buttonValue!==a?r.a.createElement(ee,{butCom:a,disabled:!1}):r.a.createElement(ee,{butCom:a,disabled:!0})}),r.a.createElement(te,{id:"moveSize",min:"1"}),this.buttonsCommands.map(function(a,t){if(5===t)return e.props.buttonValue!==a?r.a.createElement(ee,{butCom:a,disabled:!1}):r.a.createElement(ee,{butCom:a,disabled:!0})}),r.a.createElement(te,{id:"fuelSizeLoad",name:"\u0422",min:"0"}),r.a.createElement(te,{id:"foodSizeLoad",name:"\u041f",min:"0"}),this.buttonsCommands.map(function(a,t){if(6===t)return e.props.buttonValue!==a?r.a.createElement(ee,{butCom:a,disabled:!1}):r.a.createElement(ee,{butCom:a,disabled:!0})}),r.a.createElement(te,{id:"fuelSizeUnload",name:"\u0422",min:"0"}),r.a.createElement(te,{id:"foodSizeUnload",name:"\u041f",min:"0"}),this.buttonsCommands.map(function(a,t){if(t>6)return e.props.buttonValue!==a?r.a.createElement(ee,{butCom:a,disabled:!1}):r.a.createElement(ee,{butCom:a,disabled:!0})})),r.a.createElement("div",{className:"compose-main-container"},r.a.createElement("div",{className:"grid-item"},this.buttonsCommands.map(function(a,t){if(4===t)return e.props.buttonValue!==a?r.a.createElement(ee,{butCom:a,disabled:!1}):r.a.createElement(ee,{butCom:a,disabled:!0})})),r.a.createElement("div",{className:"compose-step-container"},oe.map(function(a){return a!==e.props.moveValue.jump1.dir?r.a.createElement("div",{className:"grid-item"},r.a.createElement(ee,{butCom:a,disabled:!1,id:"jump1"})):r.a.createElement("div",{className:"grid-item"},r.a.createElement(ee,{butCom:a,disabled:!0,id:"jump1"}))}),r.a.createElement("div",{className:"grid-item"},r.a.createElement(te,{id:"moveValue1",min:"1"})),oe.map(function(a){return a!==e.props.moveValue.jump2.dir?r.a.createElement("div",{className:"grid-item"},r.a.createElement(ee,{butCom:a,disabled:!1,id:"jump2"})):r.a.createElement("div",{className:"grid-item"},r.a.createElement(ee,{butCom:a,disabled:!0,id:"jump2"}))}),r.a.createElement("div",{className:"grid-item"},r.a.createElement(te,{id:"moveValue2",min:"1"})),oe.map(function(a){return a!==e.props.moveValue.jump3.dir?r.a.createElement("div",{className:"grid-item"},r.a.createElement(ee,{butCom:a,disabled:!1,id:"jump3"})):r.a.createElement("div",{className:"grid-item"},r.a.createElement(ee,{butCom:a,disabled:!0,id:"jump3"}))}),r.a.createElement("div",{className:"grid-item"},r.a.createElement(te,{id:"moveValue3",min:"1"})))))}}]),a}(o.Component),ne=Object(i.b)(function(e){return{buttonValue:e.buttonValue,moveValue:e.moveValue}})(re),se={1:"A1",2:"B1",3:"C1",4:"D1",5:"A2",6:"B2",7:"A3",8:"A4",A1:1,B1:2,C1:3,D1:4};var ie=function(e){function a(){return Object(l.a)(this,a),Object(p.a)(this,Object(c.a)(a).call(this))}return Object(d.a)(a,e),Object(u.a)(a,[{key:"handleMakeStep",value:function(){var e=this.calcNewState(),a=e.field,t=e.a1,o=e.b1,r=e.c1,n=e.d1,s=e.a2,i=e.b2,l=e.a3,u=e.a4,p=e.erCode;if(""==p)this.props.makeStep(a,t,o,r,n,s,i,l,u);else{console.log(p);var c="\u041e\u0428\u0418\u0411\u041a\u0410 \n"+p.join("\n");alert(c),this.props.resetBoard()}}},{key:"calcNewState",value:function(){for(var e=[""],a=JSON.parse(JSON.stringify(this.props.gameState)),t=this.props.codeBoardRows[this.props.selectedRow],o=1;o<=8;o++){var r=this.props.gameState[o][0],n=this.props.gameState[o][1];if(-1===r&&""!==t[o])e.push(L+" - "+se[o]);else if(-1!==r&&""!==t[o]){var s=-1,i=0;switch(t[o][0]){case"+":i=1,s=1;break;case"-":i=-1,s=1;break;case"\u0441":s=2;break;case"\u0440":s=3;break;default:s=0}switch(s){case 0:if(o<=6){(t[o].length>2||parseInt(t[o][1])>1&&o<=4||parseInt(t[o][1])>3||"\u2196"===t[o][0]||"\u2197"===t[o][0]||"\u2198"===t[o][0]||"\u2199"===t[o][0])&&e.push(P+" - "+se[o]);for(var l=parseInt(t[o][1]),u=0;u<l;u++){"\u2191"===t[o][0]&&(a[o][0]-=1),"\u2193"===t[o][0]&&(a[o][0]+=1),"\u2192"===t[o][0]&&(a[o][1]+=1),"\u2190"===t[o][0]&&(a[o][1]-=1);var p=a[o][1],c=a[o][0];p>=this.props.M||p<0||c>=this.props.N||c<0?e.push(D+" - "+se[o]):a.gameBoardRows[c][p][0]===B&&e.push(J+" - "+se[o])}}else if(7===o){(t[o].length>4||"\u2196"===t[o][0]||"\u2197"===t[o][0]||"\u2198"===t[o][0]||"\u2199"===t[o][0])&&e.push(P+" - "+se[o]);var d=parseInt(t[o][1]),m=0;for(p=0,c=0,u=0;u<d;u++)"\u2191"===t[o][0]&&(a[o][0]-=1),"\u2193"===t[o][0]&&(a[o][0]+=1),"\u2192"===t[o][0]&&(a[o][1]+=1),"\u2190"===t[o][0]&&(a[o][1]-=1),p=a[o][1],c=a[o][0],p>=this.props.M||p<0||c>=this.props.N||c<0?e.push(D+" - "+se[o]):a.gameBoardRows[c][p][0]===B&&e.push(J+" - "+se[o]);if(p>=this.props.M||p<0||c>=this.props.N||c<0?e.push(D+" - "+se[o]):a.gameBoardRows[c][p][0]===N&&e.push(M+" - "+se[o]),t[o].length>2){"\u2196"!==t[o][2]&&"\u2197"!==t[o][2]&&"\u2198"!==t[o][2]&&"\u2199"!==t[o][2]||e.push(P+" - "+se[o]),m=parseInt(t[o][3]);for(u=0;u<m;u++)"\u2191"===t[o][2]&&(a[o][0]-=1),"\u2193"===t[o][2]&&(a[o][0]+=1),"\u2192"===t[o][2]&&(a[o][1]+=1),"\u2190"===t[o][2]&&(a[o][1]-=1),p=a[o][1],c=a[o][0],p>=this.props.M||p<0||c>=this.props.N||c<0?e.push(D+" - "+se[o]):a.gameBoardRows[c][p][0]===B&&e.push(J+" - "+se[o])}m+d>5&&e.push(P+" - "+se[o])}else if(8===o){d=parseInt(t[o][1]),m=0;var h=0;for(p=0,c=0,u=0;u<d;u++)"\u2191"===t[o][0]&&(a[o][0]-=1),"\u2193"===t[o][0]&&(a[o][0]+=1),"\u2192"===t[o][0]&&(a[o][1]+=1),"\u2190"===t[o][0]&&(a[o][1]-=1),"\u2196"===t[o][0]&&(a[o][1]-=1,a[o][0]-=1),"\u2197"===t[o][0]&&(a[o][1]+=1,a[o][0]-=1),"\u2199"===t[o][0]&&(a[o][1]-=1,a[o][0]+=1),"\u2198"===t[o][0]&&(a[o][1]+=1,a[o][0]+=1),p=a[o][1],c=a[o][0],p>=this.props.M||p<0||c>=this.props.N||c<0?e.push(D+" - "+se[o]):a.gameBoardRows[c][p][0]===B&&e.push(J+" - "+se[o]);if(p>=this.props.M||p<0||c>=this.props.N||c<0?e.push(D+" - "+se[o]):a.gameBoardRows[c][p][0]===N&&e.push(M+" - "+se[o]),t[o].length>2){m=parseInt(t[o][3]);for(u=0;u<m;u++)"\u2191"===t[o][2]&&(a[o][0]-=m),"\u2193"===t[o][2]&&(a[o][0]+=m),"\u2192"===t[o][2]&&(a[o][1]+=m),"\u2190"===t[o][2]&&(a[o][1]-=m),"\u2196"===t[o][2]&&(a[o][1]-=1,a[o][0]-=1),"\u2197"===t[o][2]&&(a[o][1]+=1,a[o][0]-=1),"\u2199"===t[o][2]&&(a[o][1]-=1,a[o][0]+=1),"\u2198"===t[o][2]&&(a[o][1]+=1,a[o][0]+=1),p=a[o][1],c=a[o][0],p>=this.props.M||p<0||c>=this.props.N||c<0?e.push(D+" - "+se[o]):a.gameBoardRows[c][p][0]===B&&e.push(J+" - "+se[o])}if(p>=this.props.M||p<0||c>=this.props.N||c<0?e.push(D+" - "+se[o]):a.gameBoardRows[c][p][0]===N&&e.push(M+" - "+se[o]),t[o].length>4){h=parseInt(t[o][5]);for(u=0;u<m;u++)"\u2191"===t[o][4]&&(a[o][0]-=m),"\u2193"===t[o][4]&&(a[o][0]+=m),"\u2192"===t[o][4]&&(a[o][1]+=m),"\u2190"===t[o][4]&&(a[o][1]-=m),"\u2196"===t[o][4]&&(a[o][1]-=1,a[o][0]-=1),"\u2197"===t[o][4]&&(a[o][1]+=1,a[o][0]-=1),"\u2199"===t[o][4]&&(a[o][1]-=1,a[o][0]+=1),"\u2198"===t[o][4]&&(a[o][1]+=1,a[o][0]+=1),p=a[o][1],c=a[o][0],p>=this.props.M||p<0||c>=this.props.N||c<0?e.push(D+" - "+se[o]):a.gameBoardRows[c][p][0]===B&&e.push(J+" - "+se[o])}h+m+d>8&&e.push(P+" - "+se[o])}break;case 1:a[o][3]=a[o][3]+i*parseInt(t[o][4]),a[o][2]=a[o][2]+i*parseInt(t[o][2]),a.gameBoardRows[r][n][0]!==A&&a.gameBoardRows[r][n][0]!==R?e.push(_+" - "+se[o]):(a.gameBoardRows[r][n][1]-=i*parseInt(t[o][2]),a.gameBoardRows[r][n][2]-=i*parseInt(t[o][4]),(a.gameBoardRows[r][n][2]<0||a.gameBoardRows[r][n][1]<0)&&e.push(Y+" - "+se[o])),(o<=4&&a[o][2]+a[o][3]>1||o<=6&&o>=5&&a[o][2]+a[o][3]>3||o<=7&&o>6&&a[o][2]+a[o][3]>5||8===o&&a[o][2]+a[o][3]>8)&&e.push(x+" - "+se[o]),(a[o][2]<0||a[o][3]<0)&&e.push(U+" - "+se[o]);break;case 2:for(var b=-1,f=1;f<=8;f++)this.props.gameState[f][0]===r&&this.props.gameState[f][1]===n+1&&(b=f);if(-1!==b)if(""!=t[b])e.push(G+" - "+se[b]);else if(a[o][2]+a[o][3]!==0&&a[b][2]+a[b][3]!==0)e.push(F+" - "+se[o]+" - "+se[b]);else{var v=4,g=1,y=0;if(o<=4&&(v=1),o>4&&o<=6&&(v=2),7===o&&(v=3),b>4&&b<=6&&(g=2),7===b&&(g=3),console.log(o+" "+b),4===v)e.push(P+" - "+se[o]);else switch(y=v+g,a[o][0]=-1,a[o][1]=-1,a[b][0]=-1,a[b][1]=-1,y){case 2:-1===a[5][0]?a[5]=[r,n+1,0,0,se[o]+"_"+se[b]]:a[6]=[r,n+1,0,0,se[o]+"_"+se[b]];break;case 3:var O="";O+=o>4?"_"+a[o][4]:"_"+se[o],O+=b>4?"_"+a[b][4]:"_"+se[b],a[7]=[r,n+1,0,0,O];break;case 4:O="";O+=o>4?"_"+a[o][4]:"_"+se[o],O+=b>4?"_"+a[b][4]:"_"+se[b],a[8]=[r,n+1,0,0,O]}}else e.push(W+se[o]);break;case 3:if(n+1===a.M)e.push(X+" - "+se[o]);else if(""!==this.props.gameState.gameBoardRows[r][n+1])e.push(X+" - "+se[o]);else if(o<5)e.push(P+" - "+se[o]);else{var S=a[o][4].split("_").filter(function(e){return""!==e}),C=S.length-1,j=se[S[0]];switch(console.log(C),console.log(S),a[o]=[-1,-1,0,0],a[j]=[r,n+1,0,0],C){case 1:a[se[S[1]]]=[r,n,0,0];break;case 2:a[4]=[r,n,0,0,S[1]+"_"+S[2]],console.log(S[1]+"_"+S[2]);break;case 3:a[6]=[r,n,0,0,S[1]+"_"+S[2]+"_"+S[3]]}}}}}for(o=1;o<=8;o++){n=a[o][1],r=a[o][0];if(n>-1&&r>-1&&n<this.props.M&&r<this.props.N&&a.gameBoardRows[r][n][0]!==R&&a.gameBoardRows[r][n][0]!==A){for(b=o+1;b<=8;b++)-1!==n&&r===a[b][0]&&n===a[b][1]&&e.push(I+" - "+se[o]+" - "+se[b]);a.gameBoardRows[r][n]===N&&e.push(M+" - "+se[o])}}return{field:a.gameBoardRows,a1:a[1],b1:a[2],c1:a[3],d1:a[4],a2:a[5],b2:a[6],a3:a[7],a4:a[8],erCode:e}}},{key:"loadMap",value:function(e){var a=this,t=e.target.files[0];if(void 0!==t){var o=new FileReader;o.onload=function(e){for(var t=e.target.result.split("\n"),o=[],r=0;r<t.length;r++)t[r].startsWith("//")||o.push(t[r]);var n=a.txtToMap(o),s=n.gameField,i=n.a1,l=n.b1,u=n.c1,p=n.d1;console.log(i),console.log(l),console.log(u),console.log(p),a.props.loadGameField(s,i,l,u,p)},o.readAsText(t)}}},{key:"txtToMap",value:function(e){var a,t,o,r,n,s,i,l,u,p,c=[],d=e[0].split(" ");a=parseInt(d[0]),t=parseInt(d[1]);for(var m=0;m<a;m++)c[m]=Array(t).fill(w);var h=1;o=parseInt(e[h]);for(m=0;m<o;m++){h++;var b=this.splitXY(e[h]),f=b.x;c[y=b.y][f]=B}h++,r=parseInt(e[h]);for(m=0;m<r;m++){h++;var v=this.splitXY(e[h]);f=v.x;c[y=v.y][f]=N}h++,n=parseInt(e[h]);for(m=0;m<n;m++){h++;var g=this.splitXY(e[h],"storage"),y=(f=g.x,g.y),O=g.fuel,S=g.food;c[y][f]=[A,0,0,O,S]}h++,s=parseInt(e[h]);for(m=0;m<s;m++){h++;var C=this.splitXY(e[h],"storage");f=C.x,y=C.y,O=C.fuel,S=C.food;c[y][f]=[R,O,S]}for(m=0;m<4;m++){h++;var j=this.splitXY(e[h]);f=j.x,y=j.y;switch(m){case 0:i=[y,f,0,0],c[y][f]=k;break;case 1:l=[y,f,0,0],c[y][f]=V;break;case 2:u=[y,f,0,0],c[y][f]=z;break;case 3:p=[y,f,0,0],c[y][f]=T}}return{gameField:c,a1:i,b1:l,c1:u,d1:p}}},{key:"splitXY",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tile";if("tile"===a){var t=e.split(" "),o=parseInt(t[0]);return{x:parseInt(t[1]),y:o}}if("storage"===a){t=e.split(" "),o=parseInt(t[0]);return{x:parseInt(t[1]),y:o,fuel:parseInt(t[2]),food:parseInt(t[3])}}}},{key:"handleMakeAllSteps",value:function(e){console.log("play"),this.props.play();for(var a=this.props.codeBoardRows.length,t=this.props.selectedRow;t!==a;)t++,console.log("more"),this.handleMakeStep(e)}},{key:"handleLoadAlgo",value:function(e){var a=this,t=e.target.files[0];if(void 0!==t){var o=new FileReader;o.onload=function(e){var t=JSON.parse(e.target.result);a.props.loadAlgo(t)},o.readAsText(t)}}},{key:"handleSaveAlgo",value:function(e){this.download()}},{key:"download",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"roiRobotovAlgo.txt",a=JSON.stringify(this.props.codeBoardRows),t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(a)),t.setAttribute("download",e),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},{key:"handleStepBack",value:function(e){1!==this.props.selectedRow?this.props.stepBack():alert("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0448\u0430\u0433 \u043d\u0430\u0437\u0430\u0434")}},{key:"handleReset",value:function(e){this.props.resetBoard()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("label",null,"\u041a\u0430\u0440\u0442\u0430:",r.a.createElement("input",{name:"fileMap",type:"file",onChange:function(a){return e.loadMap(a)},title:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0443"})),r.a.createElement("label",null,"\u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c:",r.a.createElement("input",{name:"fileMap",type:"file",onChange:function(a){return e.handleLoadAlgo(a)},title:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c"})),r.a.createElement("button",{onClick:function(a){return e.handleSaveAlgo(a)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c")),r.a.createElement("button",{onClick:function(a){return e.handleReset(a)}},"\u0412 \u043d\u0430\u0447\u0430\u043b\u043e"),r.a.createElement("button",{onClick:function(a){return e.handleStepBack(a)}},"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0448\u0430\u0433 \u043d\u0430\u0437\u0430\u0434"),r.a.createElement("button",{onClick:function(a){return e.handleMakeStep(a)}},"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0448\u0430\u0433 \u0432\u043f\u0435\u0440\u0451\u0434"))}}]),a}(o.Component),le=Object(i.b)(function(e){return{gameState:{gameBoardRows:e.gameBoardRows,1:e.A1,2:e.B1,3:e.C1,4:e.D1,5:e.A2,6:e.B2,7:e.A3,8:e.A4},codeBoardRows:e.codeBoardRows,selectedRow:e.currentCodeRow,N:e.N,M:e.M,paused:e.paused,playing:e.playing}},function(e){return{loadGameField:function(a,t,o,r,n){return e(function(e,a,t,o,r){return{type:g,payload:{field:e,a1:a,b1:t,c1:o,d1:r}}}(a,t,o,r,n))},makeStep:function(a,t,o,r,n,s,i,l,u){return e(function(e,a,t,o,r,n,s,i,l){return{type:y,payload:{field:e,a1:a,b1:t,c1:o,d1:r,a2:n,b2:s,a3:i,a4:l}}}(a,t,o,r,n,s,i,l,u))},resetBoard:function(){return e({type:O})},stepBack:function(){return e({type:S})},loadAlgo:function(a){return e({type:C,payload:{newCode:a}})},pause:function(){return e({type:E})},play:function(){return e({type:j})}}})(ie),ue=Object(i.b)(function(e){return{rows:e.gameBoardRows,bots:{0:e.A1,1:e.B1,2:e.C1,3:e.D1,4:e.A2,5:e.B2,6:e.A3,7:e.A4}}})(function(e){var a=e.rows,t=e.bots;return r.a.createElement("div",{className:"divTable",id:"GAME"},a.map(function(e,a){return r.a.createElement($,{row:e,y:a,boardType:"GAME",bots:t})}))}),pe=function(){return r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-md-4 offset-md-1"},r.a.createElement(le,null),r.a.createElement("div",{className:"flex-container-menu"},r.a.createElement("div",{style:{overflow:"auto",height:"100%",width:"100%",backgroundColor:"white",margin:"1 auto"}},r.a.createElement(ue,null)),r.a.createElement("div",{style:{overflow:"auto",height:"100%",width:"100%",backgroundColor:"white",margin:"1 auto"}},r.a.createElement(ne,null))),r.a.createElement("h2",null),r.a.createElement(Q,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=t(13),de=t(1),me=t(14),he={previousState:{},gameBoardRows:[["","","","","m","","","","","h","h","h"],["","m","",["r",0,0,6,7],"","","","","","","A","B"],["h",["s",0,8],"",["s",0,10],"h","h","","","","","",""],["","","","","","","","","h","h","",["s",8,0]],["",["s",0,9],"","","","h","","","","D","",""],[["r",0,0,6,8],"","","","","",["s",0,9],"","C","","",["s",10,0]],["h","","","","h","","","","","","",""],["","","","","m",["s",0,9],"","","","",["s",10,0],""],["","m","","","","m","","","m","","",""]],codeBoardRows:[["\u2116","\u04101","B1","C1","D1","\u04102","B2","\u04103","\u04104"],["","\u0441\u0442\u044b\u043a","","\u21911","","","","",""],["","","","\u0441\u0442\u044b\u043a","","","","",""],["","","","","","","\u21903","",""],["","","","","","\u21903","\u21903","",""],["","","","","","","\u21912","",""],["","","","","","","+\u04220\u041f3","",""],["","","","","","\u21903","\u21911","",""],["","","","","","","-\u04220\u041f3","",""],["","","","","","","\u0440\u0430\u0441\u0441\u0442\u044b\u043a","",""],["","","","\u0441\u0442\u044b\u043a","\u21901","","","",""],["","","","","","","","\u21934\u21921",""],["","","","","","","","",""]],currentCodeRow:1,N:[9],M:[12],buttonValue:"UP",moveSize:1,foodSizeLoad:0,fuelSizeLoad:0,foodSizeUnload:0,fuelSizeUnload:0,moveValue:{jump1:{dir:"",size:1},jump2:{dir:"",size:1},jump3:{dir:"",size:1}},A1:[1,10,0,0],B1:[1,11,0,0],C1:[5,8,0,0],D1:[4,9,0,0],A2:[-1,-1,0,0],B2:[-1,-1,0,0],A3:[-1,-1,0,0],A4:[-1,-1,0,0],paused:!1,playing:!1,A1StartingPosition:[1,10,0,0],B1StartingPosition:[1,11,0,0],C1StartingPosition:[5,8,0,0],D1StartingPosition:[4,9,0,0],gameBoardRowsStartingPosition:[["","","","","m","","","","","h","h","h"],["","m","",["r",0,0,6,7],"","","","","","","A","B"],["h",["s",0,8],"",["s",0,10],"h","h","","","","","",""],["","","","","","","","","h","h","",["s",8,0]],["",["s",0,9],"","","","h","","","","D","",""],[["r",0,0,6,8],"","","","","",["s",0,9],"","C","","",["s",10,0]],["h","","","","h","","","","","","",""],["","","","","m",["s",0,9],"","","","",["s",10,0],""],["","m","","","","m","","","m","","",""]]};function be(e,a){switch(e){case"UP":return"\u2191"+a.moveSize;case"DOWN":return"\u2193"+a.moveSize;case"LEFT":return"\u2190"+a.moveSize;case"RIGHT":return"\u2192"+a.moveSize;case"COMPOSED":var t="";return""!==a.moveValue.jump1.dir&&(t+=a.moveValue.jump1.dir+a.moveValue.jump1.size),""!==a.moveValue.jump2.dir&&(t+=a.moveValue.jump2.dir+a.moveValue.jump2.size),""!==a.moveValue.jump3.dir&&(t+=a.moveValue.jump3.dir+a.moveValue.jump3.size),t;case"LOAD":return 0===a.fuelSizeLoad&&0===a.foodSizeLoad?"":"+\u0422"+a.fuelSizeLoad+"\u041f"+a.foodSizeLoad;case"UNLOAD":return 0===a.fuelSizeUnload&&0===a.foodSizeUnload?"":"-\u0422"+a.fuelSizeUnload+"\u041f"+a.foodSizeUnload;case"SPLIT":return"\u0440\u0430\u0441\u0441\u0442\u044b\u043a";case"CONNECT":return"\u0441\u0442\u044b\u043a";case"CLEAR":return""}}var fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,a=arguments.length>1?arguments[1]:void 0;if(a.type===h){var t=["","","","","","","","",""],o=Object(me.a)(e.codeBoardRows);a.payload.Y===e.codeBoardRows.length-1&&(o=[].concat(Object(me.a)(e.codeBoardRows),[t]));var r=Object.assign({},e,{codeBoardRows:o.map(function(t,o){return o===a.payload.Y?t.map(function(t,o){return o===a.payload.X?be(e.buttonValue,e):t}):t})});if(a.payload.Y===r.codeBoardRows.length-2&&JSON.stringify(r.codeBoardRows[a.payload.Y])===JSON.stringify(t)){o=Object(me.a)(r.codeBoardRows);var n=a.payload.Y;-1!==n&&o.splice(n,1)}return r=Object.assign({},e,{codeBoardRows:o.map(function(t,o){return o===a.payload.Y?t.map(function(t,o){return o===a.payload.X?be(e.buttonValue,e):t}):t})})}if(a.type===b)return Object(de.a)({},e,{buttonValue:a.payload.buttonCommand});if(a.type===f)switch(a.payload.id){case"foodSizeLoad":return Object(de.a)({},e,{foodSizeLoad:a.payload.sizeValue});case"fuelSizeLoad":return Object(de.a)({},e,{fuelSizeLoad:a.payload.sizeValue});case"foodSizeUnload":return Object(de.a)({},e,{foodSizeUnload:a.payload.sizeValue});case"fuelSizeUnload":return Object(de.a)({},e,{fuelSizeUnload:a.payload.sizeValue});case"moveSize":return Object(de.a)({},e,{moveSize:a.payload.sizeValue});case"moveValue1":return Object(de.a)({},e,{moveValue:Object(de.a)({},e.moveValue,{jump1:Object(de.a)({},e.moveValue.jump1,{size:a.payload.sizeValue})})});case"moveValue2":return Object(de.a)({},e,{moveValue:Object(de.a)({},e.moveValue,{jump2:Object(de.a)({},e.moveValue.jump2,{size:a.payload.sizeValue})})});case"moveValue3":return Object(de.a)({},e,{moveValue:Object(de.a)({},e.moveValue,{jump3:Object(de.a)({},e.moveValue.jump3,{size:a.payload.sizeValue})})})}if(a.type===v)switch(a.payload.id){case"jump1":return Object(de.a)({},e,{moveValue:Object(de.a)({},e.moveValue,{jump1:Object(de.a)({},e.moveValue.jump1,{dir:a.payload.butCom})})});case"jump2":return Object(de.a)({},e,{moveValue:Object(de.a)({},e.moveValue,{jump2:Object(de.a)({},e.moveValue.jump2,{dir:a.payload.butCom})})});case"jump3":return Object(de.a)({},e,{moveValue:Object(de.a)({},e.moveValue,{jump3:Object(de.a)({},e.moveValue.jump3,{dir:a.payload.butCom})})})}if(a.type===g){var s=a.payload.field.length,i=a.payload.field[0].length;return Object(de.a)({},e,{N:s,M:i,gameBoardRows:Object.assign([],a.payload.field),gameBoardRowsStartingPosition:Object.assign([],a.payload.field),A1:a.payload.a1,B1:a.payload.b1,C1:a.payload.c1,D1:a.payload.d1,A1StartingPosition:Object.assign({},a.payload.a1),B1StartingPosition:Object.assign({},a.payload.b1),C1StartingPosition:Object.assign({},a.payload.c1),D1StartingPosition:Object.assign({},a.payload.d1)})}if(a.type===y){var l=e.currentCodeRow+1;if(l===e.codeBoardRows.length)return function(e){for(var a={0:"A1",1:"B1",2:"C1",3:"D1"},t=[],o=0;o<4;o++)-1!==e[a[o]][0]?e.gameBoardRows[e[a[o]][0]][e[a[o]][1]]==a[o][0]?t.push("\u0420\u043e\u0431\u043e\u0442 "+a[o]+" \u043d\u0430 \u0431\u0430\u0437\u0435"):t.push("\u0420\u043e\u0431\u043e\u0442 "+a[o]+" \u043d\u0435 \u043d\u0430 \u0431\u0430\u0437\u0435 (!)"):t.push("\u0420\u043e\u0431\u043e\u0442 "+a[o]+" \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 (!!)");t="\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: \n"+t.join("\n"),alert(t)}(e),Object(de.a)({},e,{playing:!1});var u=JSON.parse(JSON.stringify(e)),p=Object(de.a)({},e,{gameBoardRows:a.payload.field,A1:a.payload.a1,B1:a.payload.b1,C1:a.payload.c1,D1:a.payload.d1,A2:a.payload.a2,B2:a.payload.b2,A3:a.payload.a3,A4:a.payload.a4,currentCodeRow:l,previousState:u});return l===p.codeBoardRows.length-1&&p.playing?Object(de.a)({},p,{playing:!1}):p}return a.type===O?Object(de.a)({},e,{gameBoardRows:JSON.parse(JSON.stringify(e.gameBoardRowsStartingPosition)),A1:Object.assign({},e.A1StartingPosition),B1:Object.assign({},e.B1StartingPosition),C1:Object.assign({},e.C1StartingPosition),D1:Object.assign({},e.D1StartingPosition),A2:[-1,-1,0,0],B2:[-1,-1,0,0],A3:[-1,-1,0,0],A4:[-1,-1,0,0],currentCodeRow:1,paused:!1,playing:!1}):a.type===S?Object(de.a)({},e,{gameBoardRows:JSON.parse(JSON.stringify(e.previousState.gameBoardRows)),A1:JSON.parse(JSON.stringify(e.previousState.A1)),B1:JSON.parse(JSON.stringify(e.previousState.B1)),C1:JSON.parse(JSON.stringify(e.previousState.C1)),D1:JSON.parse(JSON.stringify(e.previousState.D1)),A2:JSON.parse(JSON.stringify(e.previousState.A2)),B2:JSON.parse(JSON.stringify(e.previousState.B2)),A3:JSON.parse(JSON.stringify(e.previousState.A3)),A4:JSON.parse(JSON.stringify(e.previousState.A4)),currentCodeRow:JSON.parse(JSON.stringify(e.previousState.currentCodeRow)),previousState:JSON.parse(JSON.stringify(e.previousState.previousState)),paused:!1,playing:!1}):a.type===j?(console.log("look"),Object(de.a)({},e,{playing:!0})):a.type===E?Object(de.a)({},e,{playing:!1,paused:!0}):a.type===C?Object(de.a)({},e,{codeBoardRows:JSON.parse(JSON.stringify(a.payload.newCode))}):e},ve=Object(ce.b)(fe);window.store=ve;var ge=document.getElementById("root");s.a.render(r.a.createElement(i.a,{store:ve},r.a.createElement(pe,null)),ge),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,a,t){}},[[21,1,2]]]);
//# sourceMappingURL=main.83dc15bf.chunk.js.map